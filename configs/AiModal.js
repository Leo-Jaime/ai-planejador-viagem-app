
const {
    GoogleGenerativeAI,
    HarmCategory,
    HarmBlockThreshold,
  } = require("@google/generative-ai");
  
  const apiKey = process.env.EXPO_PUBLIC_GOOGLE_GEMINI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-1.5-flash",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 64,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  
  
    export const chatSession = model.startChat({
      generationConfig,
   // safetySettings: Adjust safety settings
   // See https://ai.google.dev/gemini-api/docs/safety-settings
      history: [
        {
          role: "user",
          parts: [
            {text: "Gerar plano de viagem para local em Formato JSON: Bahia, Brasil, por 3 dia e 2 noite para Amigos com orçamento de Moderado com detalhes do voo, preço do voo com URL de reserva, lista de opções de hotéis com nome do hotel, endereço do hotel, preço, URL da imagem do hotel, coordenadas geográficas , classificação, descrições e locais para visitar nas proximidades com nome do local, detalhes do local, URL da imagem do local, coordenadas geográficas, preços dos ingressos, viagem no tempo em cada local por 3 dia e 2 noite com plano de cada dia com melhor horário para visitar no formato JSON."},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "```json\n{\n  \"destino\": \"Bahia, Brasil\",\n  \"duracao\": \"3 Dias e 2 Noites\",\n  \"orcamento\": \"Moderado\",\n  \"viagem\": \"Amigos\",\n  \"voo\": {\n    \"companhia\": \"Latam Airlines (Exemplo)\",\n    \"origem\": \"[Insira sua cidade de origem]\",\n    \"destino\": \"Salvador - Aeroporto Internacional Deputado Luís Eduardo Magalhães (SSA)\",\n    \"preco\": \"R$ 500,00 (ida e volta, por pessoa)\",\n    \"url_reserva\": \"[Insira URL de um site de busca de voos]\",\n    \"data_chegada\": \"[Insira data de chegada]\",\n    \"data_partida\": \"[Insira data de partida]\"\n  },\n  \"acomodacoes\": [\n    {\n      \"nome\": \"Hotel Pestana Bahia\",\n      \"endereco\": \"Rua Chile, 2, Salvador, Bahia - 40010-000, Brasil\",\n      \"preco\": \"R$ 400,00 por noite (quarto duplo)\",\n      \"url_imagem\": \"[Insira URL da imagem do hotel]\",\n      \"coordenadas_geograficas\": \"-12.9762, -38.5117\",\n      \"classificacao\": \"4,5 estrelas\",\n      \"descricao\": \"Hotel histórico localizado no centro da cidade, com vista para a Baía de Todos os Santos. Oferece piscina, restaurante e bar.\",\n      \"locais_proximos\": [\n        {\n          \"nome\": \"Pelourinho\",\n          \"detalhes\": \"Centro histórico de Salvador, com ruas de paralelepípedos, casas coloniais e igrejas. Explore as galerias de arte e lojas de artesanato.\",\n          \"url_imagem\": \"[Insira URL da imagem do Pelourinho]\",\n          \"coordenadas_geograficas\": \"-12.9829, -38.5086\",\n          \"preco_ingresso\": \"Entrada gratuita\"\n        },\n        {\n          \"nome\": \"Elevador Lacerda\",\n          \"detalhes\": \"Suba no elevador histórico para ter uma vista panorâmica da cidade e da Baía de Todos os Santos.\",\n          \"url_imagem\": \"[Insira URL da imagem do Elevador Lacerda]\",\n          \"coordenadas_geograficas\": \"-12.9810, -38.5067\",\n          \"preco_ingresso\": \"R$ 3,80 por pessoa (ida e volta)\"\n        },\n        {\n          \"nome\": \"Mercado Modelo\",\n          \"detalhes\": \"Compre lembrancinhas, artesanato e produtos típicos da Bahia.\",\n          \"url_imagem\": \"[Insira URL da imagem do Mercado Modelo]\",\n          \"coordenadas_geograficas\": \"-12.9836, -38.5063\",\n          \"preco_ingresso\": \"Entrada gratuita\"\n        }\n      ]\n    },\n    {\n      \"nome\": \"Hotel Salvador Praia\",\n      \"endereco\": \"Rua Chile, 200, Salvador, Bahia - 40010-000, Brasil\",\n      \"preco\": \"R$ 300,00 por noite (quarto duplo)\",\n      \"url_imagem\": \"[Insira URL da imagem do hotel]\",\n      \"coordenadas_geograficas\": \"-12.9784, -38.5138\",\n      \"classificacao\": \"4 estrelas\",\n      \"descricao\": \"Hotel moderno na Praia de Ondina, com piscina, restaurante e bar. Oferece fácil acesso a bares, restaurantes e lojas.\",\n      \"locais_proximos\": [\n        {\n          \"nome\": \"Praia do Farol da Barra\",\n          \"detalhes\": \"Relaxe na praia, aproveite o sol e o mar, e visite o Farol da Barra, um dos principais pontos turísticos de Salvador.\",\n          \"url_imagem\": \"[Insira URL da imagem da Praia do Farol da Barra]\",\n          \"coordenadas_geograficas\": \"-12.9787, -38.5208\",\n          \"preco_ingresso\": \"Entrada gratuita\"\n        },\n        {\n          \"nome\": \"Museu de Arte Moderna da Bahia (MAM)\",\n          \"detalhes\": \"Visite o museu para apreciar a arte moderna e contemporânea da Bahia.\",\n          \"url_imagem\": \"[Insira URL da imagem do MAM]\",\n          \"coordenadas_geograficas\": \"-12.9855, -38.5031\",\n          \"preco_ingresso\": \"R$ 10,00 por pessoa\"\n        }\n      ]\n    }\n  ],\n  \"roteiro\": [\n    {\n      \"dia\": \"Dia 1\",\n      \"horarios\": [\n        {\n          \"horario\": \"10:00 - 12:00\",\n          \"local\": \"Pelourinho\",\n          \"detalhes\": \"Visita ao centro histórico de Salvador, com ruas de paralelepípedos, casas coloniais e igrejas. Explore as galerias de arte e lojas de artesanato.\",\n          \"url_imagem\": \"[Insira URL da imagem do Pelourinho]\",\n          \"coordenadas_geograficas\": \"-12.9829, -38.5086\",\n          \"preco_ingresso\": \"Entrada gratuita\"\n        },\n        {\n          \"horario\": \"12:00 - 14:00\",\n          \"local\": \"Restaurante Terreiro\",\n          \"detalhes\": \"Almoço com comida baiana tradicional, como acarajé, moqueca e vatapá.\",\n          \"url_imagem\": \"[Insira URL da imagem do restaurante]\",\n          \"coordenadas_geograficas\": \"-12.9831, -38.5084\",\n          \"preco_ingresso\": \"A partir de R$ 50,00 por pessoa\"\n        },\n        {\n          \"horario\": \"14:00 - 17:00\",\n          \"local\": \"Elevador Lacerda\",\n          \"detalhes\": \"Suba no elevador histórico para ter uma vista panorâmica da cidade e da Baía de Todos os Santos.\",\n          \"url_imagem\": \"[Insira URL da imagem do Elevador Lacerda]\",\n          \"coordenadas_geograficas\": \"-12.9810, -38.5067\",\n          \"preco_ingresso\": \"R$ 3,80 por pessoa (ida e volta)\"\n        },\n        {\n          \"horario\": \"17:00 - 19:00\",\n          \"local\": \"Mercado Modelo\",\n          \"detalhes\": \"Compre lembrancinhas, artesanato e produtos típicos da Bahia.\",\n          \"url_imagem\": \"[Insira URL da imagem do Mercado Modelo]\",\n          \"coordenadas_geograficas\": \"-12.9836, -38.5063\",\n          \"preco_ingresso\": \"Entrada gratuita\"\n        },\n        {\n          \"horario\": \"19:00 - 21:00\",\n          \"local\": \"Restaurante Boteco Praia\",\n          \"detalhes\": \"Jantar em um restaurante na praia, com vista para o mar e música ao vivo.\",\n          \"url_imagem\": \"[Insira URL da imagem do restaurante]\",\n          \"coordenadas_geograficas\": \"-12.9878, -38.5096\",\n          \"preco_ingresso\": \"A partir de R$ 70,00 por pessoa\"\n        }\n      ]\n    },\n    {\n      \"dia\": \"Dia 2\",\n      \"horarios\": [\n        {\n          \"horario\": \"09:00 - 12:00\",\n          \"local\": \"Praia do Farol da Barra\",\n          \"detalhes\": \"Relaxe na praia, aproveite o sol e o mar, e visite o Farol da Barra, um dos principais pontos turísticos de Salvador.\",\n          \"url_imagem\": \"[Insira URL da imagem da Praia do Farol da Barra]\",\n          \"coordenadas_geograficas\": \"-12.9787, -38.5208\",\n          \"preco_ingresso\": \"Entrada gratuita\"\n        },\n        {\n          \"horario\": \"12:00 - 14:00\",\n          \"local\": \"Restaurante Seu Batista\",\n          \"detalhes\": \"Almoço com comida baiana tradicional em um restaurante local.\",\n          \"url_imagem\": \"[Insira URL da imagem do restaurante]\",\n          \"coordenadas_geograficas\": \"-12.9797, -38.5196\",\n          \"preco_ingresso\": \"A partir de R$ 40,00 por pessoa\"\n        },\n        {\n          \"horario\": \"14:00 - 17:00\",\n          \"local\": \"Museu de Arte Moderna da Bahia (MAM)\",\n          \"detalhes\": \"Visite o museu para apreciar a arte moderna e contemporânea da Bahia.\",\n          \"url_imagem\": \"[Insira URL da imagem do MAM]\",\n          \"coordenadas_geograficas\": \"-12.9855, -38.5031\",\n          \"preco_ingresso\": \"R$ 10,00 por pessoa\"\n        },\n        {\n          \"horario\": \"17:00 - 19:00\",\n          \"local\": \"Circuito do Carnaval\",\n          \"detalhes\": \"Caminhe pelo circuito do Carnaval e admire a atmosfera vibrante da cidade.\",\n          \"url_imagem\": \"[Insira URL da imagem do circuito do Carnaval]\",\n          \"coordenadas_geograficas\": \"-12.9855, -38.5071\",\n          \"preco_ingresso\": \"Entrada gratuita\"\n        },\n        {\n          \"horario\": \"19:00 - 21:00\",\n          \"local\": \"Restaurante Boteco do Caranguejo\",\n          \"detalhes\": \"Jantar em um boteco famoso por seus pratos de caranguejo.\",\n          \"url_imagem\": \"[Insira URL da imagem do restaurante]\",\n          \"coordenadas_geograficas\": \"-12.9854, -38.5067\",\n          \"preco_ingresso\": \"A partir de R$ 80,00 por pessoa\"\n        }\n      ]\n    },\n    {\n      \"dia\": \"Dia 3\",\n      \"horarios\": [\n        {\n          \"horario\": \"09:00 - 12:00\",\n          \"local\": \"Praia de Itapuã\",\n          \"detalhes\": \"Aproveite a praia com suas águas cristalinas e areia branca, e explore o local que inspirou a música \\\"Aquarela do Brasil\\\".\",\n          \"url_imagem\": \"[Insira URL da imagem da Praia de Itapuã]\",\n          \"coordenadas_geograficas\": \"-12.9673, -38.4664\",\n          \"preco_ingresso\": \"Entrada gratuita\"\n        },\n        {\n          \"horario\": \"12:00 - 14:00\",\n          \"local\": \"Restaurante do Hotel Salvador Praia\",\n          \"detalhes\": \"Almoço com vista para o mar no restaurante do hotel.\",\n          \"url_imagem\": \"[Insira URL da imagem do restaurante]\",\n          \"coordenadas_geograficas\": \"-12.9784, -38.5138\",\n          \"preco_ingresso\": \"A partir de R$ 50,00 por pessoa\"\n        },\n        {\n          \"horario\": \"14:00 - 17:00\",\n          \"local\": \"Shopping da Bahia\",\n          \"detalhes\": \"Faça compras em um dos maiores shoppings da Bahia, com lojas de marcas nacionais e internacionais.\",\n          \"url_imagem\": \"[Insira URL da imagem do shopping]\",\n          \"coordenadas_geograficas\": \"-12.9745, -38.5175\",\n          \"preco_ingresso\": \"Entrada gratuita\"\n        },\n        {\n          \"horario\": \"17:00 - 19:00\",\n          \"local\": \"Casa do Carnaval\",\n          \"detalhes\": \"Conheça a história do Carnaval de Salvador e veja fantasias e adereços usados nos desfiles.\",\n          \"url_imagem\": \"[Insira URL da imagem da Casa do Carnaval]\",\n          \"coordenadas_geograficas\": \"-12.9763, -38.5159\",\n          \"preco_ingresso\": \"R$ 15,00 por pessoa\"\n        },\n        {\n          \"horario\": \"19:00 - 21:00\",\n          \"local\": \"Restaurante O Bode\",\n          \"detalhes\": \"Jantar em um restaurante famoso por sua carne de bode.\",\n          \"url_imagem\": \"[Insira URL da imagem do restaurante]\",\n          \"coordenadas_geograficas\": \"-12.9854, -38.5071\",\n          \"preco_ingresso\": \"A partir de R$ 60,00 por pessoa\"\n        }\n      ]\n    }\n  ]\n}\n```\n\n**Observações:**\n\n* Os preços dos voos, hotéis e ingressos são meramente ilustrativos e podem variar de acordo com a época do ano, disponibilidade e outros fatores.\n* As coordenadas geográficas são aproximadas e podem ser usadas para encontrar os locais no Google Maps.\n* Este roteiro é apenas uma sugestão e pode ser adaptado de acordo com seus interesses e preferências.\n* É recomendável verificar a disponibilidade de ingressos para os museus e outros locais turísticos com antecedência.\n* Não deixe de experimentar as delícias da culinária baiana, como acarajé, moqueca, vatapá e outros pratos típicos.\n* Tenha um ótimo tempo na Bahia!\n\n**Preencha os espaços em branco com as informações relevantes para sua viagem, como sua cidade de origem, datas de chegada e partida, e URLs das imagens dos hotéis e pontos turísticos.**\n"},
          ],
        },
      ],
    });
  
    // const result = await chatSession.sendMessage("INSERT_INPUT_HERE");
    // console.log(result.response.text());
  
  
  